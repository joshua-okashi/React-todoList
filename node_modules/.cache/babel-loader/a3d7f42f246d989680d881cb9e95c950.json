{"ast":null,"code":"import _classCallCheck from \"C:\\\\WEB2\\\\React\\\\todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\WEB2\\\\React\\\\todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\WEB2\\\\React\\\\todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\WEB2\\\\React\\\\todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\WEB2\\\\React\\\\todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\WEB2\\\\React\\\\todolist\\\\src\\\\UserDialog.js\";\nimport React, { Component } from 'react';\nimport './UserDialog.css';\nimport { signUp as _signUp } from './leanCloud';\n\nvar UserDialog =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UserDialog, _Component);\n\n  function UserDialog(props) {\n    var _this;\n\n    _classCallCheck(this, UserDialog);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UserDialog).call(this, props));\n    _this.state = {\n      selected: 'signUp',\n      formData: {\n        username: '',\n        password: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(UserDialog, [{\n    key: \"switch\",\n    value: function _switch(e) {\n      this.setState({\n        selected: e.target.value\n      });\n    }\n  }, {\n    key: \"signUp\",\n    value: function signUp(e) {\n      var _this2 = this;\n\n      e.preventDefault();\n      var _this$state$formData = this.state.formData,\n          email = _this$state$formData.email,\n          username = _this$state$formData.username,\n          password = _this$state$formData.password;\n\n      var success = function success(user) {\n        _this2.props.onSignUp.call(null, user);\n      };\n\n      var error = function error(_error) {\n        switch (_error.code) {\n          case 202:\n            alert('用户名已被占用');\n            break;\n\n          default:\n            alert(_error);\n            break;\n        }\n      };\n\n      _signUp(email, username, password, success, error);\n    }\n  }, {\n    key: \"signIn\",\n    value: function (_signIn) {\n      function signIn(_x) {\n        return _signIn.apply(this, arguments);\n      }\n\n      signIn.toString = function () {\n        return _signIn.toString();\n      };\n\n      return signIn;\n    }(function (e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var _this$state$formData2 = this.state.formData,\n          username = _this$state$formData2.username,\n          password = _this$state$formData2.password;\n\n      var success = function success(user) {\n        _this3.props.onSignIn.call(null, user);\n      };\n\n      var error = function error(_error2) {\n        switch (_error2.code) {\n          case 210:\n            alert('用户名与密码不匹配');\n            break;\n\n          default:\n            alert(_error2);\n            break;\n        }\n      };\n\n      signIn(username, password, success, error);\n    })\n  }, {\n    key: \"changeFormData\",\n    value: function changeFormData(key, e) {\n      var stateCopy = JSON.parse(JSON.stringify(this.state));\n      stateCopy.formData[key] = e.target.value;\n      this.setState(stateCopy);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var signUpForm = React.createElement(\"form\", {\n        className: \"signUp\",\n        onSubmit: this.signUp.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u540D\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.formData.username,\n        onChange: this.changeFormData.bind(this, 'username'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, \"\\u5BC6\\u7801\"), React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.formData.password,\n        onChange: this.changeFormData.bind(this, 'password'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\")));\n      var signInForm = React.createElement(\"form\", {\n        className: \"signIn\",\n        onSubmit: this.signIn.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \" \", React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"\\u7528\\u6237\\u540D\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.formData.username,\n        onChange: this.changeFormData.bind(this, 'username'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"\\u5BC6\\u7801\"), React.createElement(\"input\", {\n        type: \"password\",\n        value: this.state.formData.password,\n        onChange: this.changeFormData.bind(this, 'password'),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"row actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\")));\n      return React.createElement(\"div\", {\n        className: \"UserDialog-Wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"UserDialog\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"nav\", {\n        onChange: this.switch.bind(this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"signUp\",\n        checked: this.state.selected === 'signUp',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), \" \\u6CE8\\u518C\"), React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"radio\",\n        value: \"signIn\",\n        checked: this.state.selected === 'signIn',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), \" \\u767B\\u5F55\")), React.createElement(\"div\", {\n        className: \"panes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, this.state.selected === 'signUp' ? signUpForm : null, this.state.selected === 'signIn' ? signInForm : null)));\n    }\n  }]);\n\n  return UserDialog;\n}(Component);\n\nexport { UserDialog as default };","map":{"version":3,"sources":["C:\\WEB2\\React\\todolist\\src\\UserDialog.js"],"names":["React","Component","signUp","UserDialog","props","state","selected","formData","username","password","e","setState","target","value","preventDefault","email","success","user","onSignUp","call","error","code","alert","onSignIn","signIn","key","stateCopy","JSON","parse","stringify","signUpForm","bind","changeFormData","signInForm","switch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './UserDialog.css'\r\nimport {signUp} from './leanCloud'\r\n\r\nexport default class UserDialog extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      selected: 'signUp',\r\n      formData: {\r\n        username: '',\r\n        password: '',\r\n      }\r\n    }\r\n  }\r\n  switch(e){\r\n    this.setState({\r\n      selected: e.target.value\r\n    })\r\n  }\r\n\r\n  signUp(e){\r\n    e.preventDefault()\r\n    let {email, username, password} = this.state.formData\r\n    let success = (user)=>{\r\n      this.props.onSignUp.call(null, user)\r\n    }\r\n    let error = (error)=>{\r\n      switch(error.code){\r\n        case 202:\r\n          alert('用户名已被占用')\r\n          break\r\n        default:\r\n          alert(error)\r\n          break\r\n      }\r\n    }\r\n    signUp(email, username, password, success, error)\r\n  }\r\n  signIn(e){\r\n    e.preventDefault()\r\n    let {username, password} = this.state.formData\r\n    let success = (user)=>{\r\n      this.props.onSignIn.call(null, user)\r\n    }\r\n    let error = (error)=>{\r\n      switch(error.code){\r\n        case 210:\r\n          alert('用户名与密码不匹配')\r\n          break\r\n        default:\r\n          alert(error)\r\n          break\r\n      }\r\n    }\r\n    signIn(username, password, success, error)\r\n  }\r\n \r\n  changeFormData(key, e){\r\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\r\n    stateCopy.formData[key] = e.target.value\r\n    this.setState(stateCopy)\r\n  }\r\n    \r\n  render(){\r\n    let signUpForm = (\r\n      <form className=\"signUp\" onSubmit={this.signUp.bind(this)}> {/* 注册*/}\r\n        <div className=\"row\">\r\n          <label>用户名</label> \r\n          <input type=\"text\" value={this.state.formData.username}\r\n          onChange={this.changeFormData.bind(this, 'username')}/>\r\n        </div>\r\n        <div className=\"row\">\r\n          <label>密码</label>\r\n          <input type=\"password\" value={this.state.formData.password} \r\n          onChange={this.changeFormData.bind(this, 'password')}/>\r\n        </div>\r\n        <div className=\"row actions\">\r\n          <button type=\"submit\">注册</button>\r\n        </div>\r\n      </form>\r\n    )\r\n    let signInForm = (\r\n      <form className=\"signIn\" onSubmit={this.signIn.bind(this)}> {/* 登录*/}\r\n        <div className=\"row\">\r\n          <label>用户名</label>\r\n          <input type=\"text\" value={this.state.formData.username}\r\n          onChange={this.changeFormData.bind(this, 'username')}/>\r\n        </div>\r\n        <div className=\"row\">\r\n          <label>密码</label>\r\n          <input type=\"password\" value={this.state.formData.password}\r\n          onChange={this.changeFormData.bind(this, 'password')}/>\r\n        </div>\r\n        <div className=\"row actions\">\r\n          <button type=\"submit\">登录</button>\r\n        </div>\r\n      </form>\r\n    ) \r\n\r\n    return (\r\n      <div className=\"UserDialog-Wrapper\">\r\n        <div className=\"UserDialog\">\r\n          <nav onChange={this.switch.bind(this)}>\r\n            <label><input type=\"radio\" value=\"signUp\" checked={this.state.selected === 'signUp'}/> 注册</label>\r\n            <label><input type=\"radio\" value=\"signIn\" checked={this.state.selected === 'signIn'}/> 登录</label>\r\n          </nav>\r\n          <div className=\"panes\">\r\n            {this.state.selected === 'signUp' ? signUpForm : null}\r\n            {this.state.selected === 'signIn' ? signInForm : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}