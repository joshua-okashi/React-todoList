{"ast":null,"code":"import _objectSpread from \"C:\\\\WEB2\\\\React\\\\todolist\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport AV from 'leancloud-storage';\nexport function signUp(email, username, password, successFn, errorFn) {\n  var user = new AV.User();\n  user.setUsername(username);\n  user.setPassword(password);\n  user.setEmail(email);\n  user.signUp().then(function (loginedUser) {\n    var user = getUserFromAVUser(loginedUser);\n    successFn.call(null, user);\n  }, function (error) {\n    errorFn.call(null, error);\n  });\n  return undefined;\n}\nexport function signIn(username, password, successFn, errorFn) {\n  AV.User.logIn(username, password).then(function (loginedUser) {\n    var user = getUserFromAVUser(loginedUser);\n    successFn.call(null, user);\n  }, function (error) {\n    errorFn.call(null, error);\n  });\n}\nexport function getCurrentUser() {\n  var user = AV.User.current();\n\n  if (user) {\n    return getUserFromAVUser(user);\n  } else {\n    return null;\n  }\n}\n\nfunction getUserFromAVUser(AVUser) {\n  return _objectSpread({\n    id: AVUser.id\n  }, AVUser.attributes);\n}","map":{"version":3,"sources":["C:\\WEB2\\React\\todolist\\src\\leanCloud.js"],"names":["AV","signUp","email","username","password","successFn","errorFn","user","User","setUsername","setPassword","setEmail","then","loginedUser","getUserFromAVUser","call","error","undefined","signIn","logIn","getCurrentUser","current","AVUser","id","attributes"],"mappings":";AAAA,OAAOA,EAAP,MAAe,mBAAf;AAEA,OAAO,SAASC,MAAT,CAAiBC,KAAjB,EAAwBC,QAAxB,EAAkCC,QAAlC,EAA4CC,SAA5C,EAAuDC,OAAvD,EAAgE;AAErE,MAAIC,IAAI,GAAG,IAAIP,EAAE,CAACQ,IAAP,EAAX;AAEAD,EAAAA,IAAI,CAACE,WAAL,CAAiBN,QAAjB;AAEAI,EAAAA,IAAI,CAACG,WAAL,CAAiBN,QAAjB;AAEAG,EAAAA,IAAI,CAACI,QAAL,CAAcT,KAAd;AAEAK,EAAAA,IAAI,CAACN,MAAL,GAAcW,IAAd,CAAmB,UAAUC,WAAV,EAAuB;AACxC,QAAIN,IAAI,GAAGO,iBAAiB,CAACD,WAAD,CAA5B;AACAR,IAAAA,SAAS,CAACU,IAAV,CAAe,IAAf,EAAqBR,IAArB;AACD,GAHD,EAGG,UAAUS,KAAV,EAAiB;AAClBV,IAAAA,OAAO,CAACS,IAAR,CAAa,IAAb,EAAmBC,KAAnB;AACD,GALD;AAOA,SAAOC,SAAP;AACD;AAED,OAAO,SAASC,MAAT,CAAiBf,QAAjB,EAA2BC,QAA3B,EAAqCC,SAArC,EAAgDC,OAAhD,EAAyD;AAC9DN,EAAAA,EAAE,CAACQ,IAAH,CAAQW,KAAR,CAAchB,QAAd,EAAwBC,QAAxB,EAAkCQ,IAAlC,CAAuC,UAAUC,WAAV,EAAuB;AAC5D,QAAIN,IAAI,GAAGO,iBAAiB,CAACD,WAAD,CAA5B;AACAR,IAAAA,SAAS,CAACU,IAAV,CAAe,IAAf,EAAqBR,IAArB;AACD,GAHD,EAGG,UAAUS,KAAV,EAAiB;AAClBV,IAAAA,OAAO,CAACS,IAAR,CAAa,IAAb,EAAmBC,KAAnB;AACD,GALD;AAMD;AAED,OAAO,SAASI,cAAT,GAA2B;AAChC,MAAIb,IAAI,GAAGP,EAAE,CAACQ,IAAH,CAAQa,OAAR,EAAX;;AACA,MAAId,IAAJ,EAAU;AACR,WAAOO,iBAAiB,CAACP,IAAD,CAAxB;AACD,GAFD,MAEO;AACL,WAAO,IAAP;AACD;AACF;;AAED,SAASO,iBAAT,CAA4BQ,MAA5B,EAAoC;AAClC;AACEC,IAAAA,EAAE,EAAED,MAAM,CAACC;AADb,KAEKD,MAAM,CAACE,UAFZ;AAID","sourcesContent":["import AV from 'leancloud-storage'\r\n\r\nexport function signUp (email, username, password, successFn, errorFn) {\r\n\r\n  var user = new AV.User()\r\n\r\n  user.setUsername(username)\r\n\r\n  user.setPassword(password)\r\n\r\n  user.setEmail(email)\r\n\r\n  user.signUp().then(function (loginedUser) {\r\n    let user = getUserFromAVUser(loginedUser)\r\n    successFn.call(null, user)\r\n  }, function (error) {\r\n    errorFn.call(null, error)\r\n  })\r\n  \r\n  return undefined\r\n}\r\n\r\nexport function signIn (username, password, successFn, errorFn) {\r\n  AV.User.logIn(username, password).then(function (loginedUser) {\r\n    let user = getUserFromAVUser(loginedUser)\r\n    successFn.call(null, user)\r\n  }, function (error) {\r\n    errorFn.call(null, error)\r\n  })\r\n}\r\n\r\nexport function getCurrentUser () {\r\n  let user = AV.User.current()\r\n  if (user) {\r\n    return getUserFromAVUser(user)\r\n  } else {\r\n    return null\r\n  }\r\n}\r\n\r\nfunction getUserFromAVUser (AVUser) {\r\n  return {\r\n    id: AVUser.id,\r\n    ...AVUser.attributes\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}